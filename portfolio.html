<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/gist-embed/2.2/gist-embed.min.js"></script> -->
        <!-- <link rel="stylesheet" href="css/studies.css" type="text/css" /> -->
        <title>Studies</title>
        <script>
            const show = () => {
                console.log('show called')
                $('h3').text($('meta')[0].content.toString())
            }
            const viewport = document.querySelector('meta[name=viewport]')
            const zoomEnabledViewportContent = viewport.attributes['content'].value + ', maximum-scale=5, user-scalable=yes'
            const zoomDisabledViewportContent = viewport.attributes['content'].value + ', maximum-scale=1, user-scalable=no'

            const isZoomInput = el => {
                console.log(el)
                el && (el.tagName === 'SELECT' || (el.tagName === 'INPUT' && el.type !== 'checkbox' && el.type !== 'radio'))
            }
            const disableZoom = () => { 
                console.log('disabled')
                viewport.attributes['content'].value = zoomDisabledViewportContent 
            }
            const enableZoom = () => { 
                console.log('enabled')
                viewport.attributes['content'].value = zoomEnabledViewportContent 
            }
            const onBlur = event => {
                console.log('onblur called')
                if (isZoomInput(event.relatedTarget)) disableZoom()
                else enableZoom()
            }
            const onFocus = event => {
                console.log('onfocus called')
                if (isZoomInput(event.target)) {
                    disableZoom()
                }
            }
            const onTouchEnd = event => { 
                console.log('ontouchend called')
                if (isZoomInput(event.target)) {
                    disableZoom() 
                }
                setTimeout(
                    show, 1000
                )
            }
            // const userScalable = on => {
            //     viewport.attributes['content'].value = viewport.attributes['content'].value + `, user-scalable=${on ? 'yes' : 'no'}`;
            //     show()
            //     console.log('userscalable called')
            // }
            
        </script>
    </head>
    <body>
        <div id="all-contents">
            <nav> 
                <li><a href="index.html">HOME "You can't go here again"</a></li>
                <li><a href="portfolio.html">Portfolio, but if you're looking for my artwork, it's at my mom's house</a></li>
                <li><a href="studies.html">Studies, where I'm gonna keep my notes</a></li>
            </nav>
            <main>
                this one is going to work
                <p>
                    <button onclick="userScalable(true)">
                        userscalableOn
                    </button>
                    <button onclick="userScalable(false)">
                        userscalableOff
                    </button>
                    <div> bare input
                        <input type="text" style="font-size: 12px;">
                        </input>
                    </div>
                    <div> onfocus calls userscable(false)
                        <input  type="text" style="font-size: 12px;"
                            onfocus="userScalable(false)">
                        </input>
                    </div>
                    <div> ontouchstart calls userscable(false)
                        <input type="text" style="font-size: 12px;"
                            ontouchstart="userScalable(false)"
                        >
                        </input>
                    </div>
                    <div> ontouchend calls userscable(false)
                        <input type="text" style="font-size: 12px;"
                            ontouchend="userScalable(false)"
                        >
                        </input>
                    </div>
                    multiple inputs all with same functions
                    <div>
                        1<input type="text" style="font-size: 12px;"
                        ontouchend="onTouchEnd(this)"
                        onblur="onBlur(this)"
                        onfocus="onFocus(this)"
                        >
                        </input>
                    </div>
                    <div>

                        2<input type="text" style="font-size: 12px;"
                        ontouchend="onTouchEnd(this)"
                        onblur="onBlur(this)"
                        onfocus="onFocus(this)"
                        >
                    </input>
                </div>
                <div>

                    3<input type="text" style="font-size: 12px;"
                    ontouchend="onTouchEnd(this)"
                    onblur="onBlur(this)"
                    onfocus="onFocus(this)"
                    >
                </input>
            </div>
            


                </p>
                <p>
                    <h3>
                        def gonna work
                    </h3>       
                </p>
            </main>
        </div>
    </body>
    <script>
            show()   
    </script>
</html>
